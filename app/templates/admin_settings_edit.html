{% extends "layout_admin.html" %}

{% block title %}Einstellungen{% endblock %}

{% block content %}

<div class="max-w-xl mx-auto mt-12 bg-white shadow-lg rounded-xl p-8">
  <h1 class="text-2xl font-bold mb-4">ðŸ”” Einstellungen</h1>
  <p class="text-sm text-gray-600 mb-4">
    Hinweis: Wenn du kein WhatsApp nutzen mÃ¶chtest, kannst du die Felder leer lassen.
    In diesem Fall wird keine Nachricht verschickt.
  </p>

  <form method="POST" class="space-y-6">
    <!-- CSRF-Token hinzufÃ¼gen -->
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

    <div>
      <label for="vereins_name" class="block font-semibold mb-1">Verein/Organisation (Gastgeber)</label>
      <input type="text" id="vereins_name" name="vereins_name" class="w-full p-2 border rounded"
             value="{{ vereins_name }}">
    </div>
    <div>
      <label for="event_name" class="block font-semibold mb-1">Veranstaltungsname</label>
      <input type="text" id="event_name" name="event_name" class="w-full p-2 border rounded"
             value="{{ event_name }}">
    </div>
    <div>
      <label for="event_date" class="block font-semibold mb-1">Event-Datum</label>
      <input type="date" id="event_date" name="event_date" class="w-full p-2 border rounded"
             value="{{ event_date }}">
    </div>
    <div class="mb-4">
      <label for="invite_header" class="block font-semibold mb-1">Einladungstext</label>
      <textarea id="invite_header" name="invite_header" rows="5" class="w-full p-2 border rounded">{{ invite_header }}</textarea>
    </div>
    <div class="mb-4">
      <label for="max_tables" class="block font-semibold mb-1">Maximale Anzahl Tische</label>
      <input type="number" id="max_tables" name="max_tables" class="w-full p-2 border rounded"
             value="{{ max_tables }}" min="1" max="1000">
    </div>
    <div class="mb-4">
      <label for="max_persons_per_table" class="block font-semibold mb-1">Max. Personen pro Tisch</label>
      <input type="number" id="max_persons_per_table" name="max_persons_per_table" 
             class="w-full p-2 border rounded" value="{{ max_persons_per_table }}" min="1" max="50">
    </div>
    <div class="flex items-center mb-4">
      <input type="checkbox" id="enable_tables" name="enable_tables" value="true"
             {% if enable_tables == "true" %}checked{% endif %} class="mr-2">
      <label for="enable_tables">Tischverwaltung aktivieren</label>
      <span class="ml-2 text-sm text-gray-500">(Wird automatisch angewendet, wenn aktiviert)</span>
    </div>
    <button type="submit" class="bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700">
      Einstellungen speichern
    </button>
  </form>

  <div class="mt-6">
    <a href="{{ url_for('admin.index') }}" class="bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700">&larr; ZurÃ¼ck zur Ãœbersicht</a>
  </div>
</div>
{% endblock %}
